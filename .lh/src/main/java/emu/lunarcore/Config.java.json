{
    "sourceFile": "src/main/java/emu/lunarcore/Config.java",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 6,
            "patches": [
                {
                    "date": 1719129402515,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1719129408822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -154,9 +154,9 @@\n     }\n     \n     @Getter\n     public static class ServerProfile {\n-        public String name = \"mi\";\n+        public String name = \"米忽悠之家\";\n         public String signature = \"Type /help for a list of commands\";\n         public int level = 1;\n         public int headIcon = 201001;\n         public int chatBubbleId = 0;\n"
                },
                {
                    "date": 1719129421518,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,212 @@\n+package emu.lunarcore;\n+\n+import java.util.Date;\n+import java.util.List;\n+import java.util.Set;\n+\n+import com.google.gson.annotations.SerializedName;\n+\n+import emu.lunarcore.data.common.ItemParam;\n+import lombok.Getter;\n+\n+@Getter\n+public class Config {\n+    public DatabaseInfo accountDatabase = new DatabaseInfo();\n+    public DatabaseInfo gameDatabase = new DatabaseInfo();\n+    public InternalMongoInfo internalMongoServer = new InternalMongoInfo();\n+    public boolean useSameDatabase = true;\n+\n+    public KeystoreInfo keystore = new KeystoreInfo();\n+\n+    public HttpServerConfig httpServer = new HttpServerConfig(80);\n+    public GameServerConfig gameServer = new GameServerConfig(23301);\n+    \n+    public ServerOptions serverOptions = new ServerOptions();\n+    public ServerTime serverTime = new ServerTime();\n+    public ServerRates serverRates = new ServerRates();\n+    public LogOptions logOptions = new LogOptions();\n+\n+    public String resourceDir = \"./resources\";\n+    public String dataDir = \"./data\";\n+\n+    @Getter\n+    public static class DatabaseInfo {\n+        public String uri = \"mongodb://localhost:27017\";\n+        public String collection = \"lunarcore\";\n+        public boolean useInternal = true;\n+    }\n+\n+    @Getter\n+    public static class InternalMongoInfo {\n+        public String address = \"localhost\";\n+        public int port = 27017;\n+        public String filePath = \"database.mv\";\n+    }\n+\n+    @Getter\n+    public static class KeystoreInfo {\n+        public String path = \"./keystore.p12\";\n+        public String password = \"\";\n+    }\n+\n+    @Getter\n+    private static class ServerConfig {\n+        public String bindAddress = \"0.0.0.0\";\n+        @SerializedName(value = \"bindPort\", alternate = {\"port\"})\n+        public int bindPort;\n+        \n+        // Will return bindAddress if publicAddress is null\n+        public String publicAddress = \"127.0.0.1\";\n+        // Will return bindPort if publicPort is null\n+        public Integer publicPort;\n+        \n+        public ServerConfig(int port) {\n+            this.bindPort = port;\n+        }\n+        \n+        public String getPublicAddress() {\n+            if (this.publicAddress != null && !this.publicAddress.isEmpty()) {\n+                return this.publicAddress;\n+            }\n+            \n+            return this.bindAddress;\n+        }\n+        \n+        public int getPublicPort() {\n+            if (this.publicPort != null && this.publicPort != 0) {\n+                return this.publicPort;\n+            }\n+            \n+            return this.bindPort;\n+        }\n+    }\n+    \n+    @Getter\n+    public static class HttpServerConfig extends ServerConfig {\n+        public boolean useSSL = false;\n+        public long regionListRefresh = 60_000; // Time in milliseconds to wait before refreshing region list cache again\n+\n+        public HttpServerConfig(int port) {\n+            super(port);\n+        }\n+        \n+        public String getDisplayAddress() {\n+            return (useSSL ? \"https\" : \"http\") + \"://\" + getPublicAddress() + \":\" + getPublicPort();\n+        }\n+    }\n+\n+    @Getter\n+    public static class GameServerConfig extends ServerConfig {\n+        public String id = \"lunar_rail_test\";\n+        public String name = \"Lunar Core\";\n+        public String description = \"A LunarCore server\";\n+        public int kcpInterval = 40;\n+        public Integer kcpTimeout = 30;\n+\n+        public GameServerConfig(int port) {\n+            super(port);\n+        }\n+        \n+        public int getKcpTimeout() {\n+            return kcpTimeout.intValue();\n+        }\n+    }\n+    \n+    @Getter \n+    public static class ServerTime {\n+        public boolean spoofTime = false;\n+        public Date spoofDate = new Date(1705276800000L); // January 15, 2024 12:00:00 AM (GMT)\n+    }\n+    \n+    @Getter\n+    public static class ServerOptions {\n+        public boolean autoCreateAccount = true;\n+        public int sceneMaxEntites = 500;\n+        public int maxCustomRelicLevel = 15; // Maximum level of a relic that the player can create with the /give command\n+        public boolean unlockAllChallenges = true;\n+        public boolean spendStamina = true;\n+        public int staminaRecoveryRate = 5 * 60;\n+        public int staminaReserveRecoveryRate = 18 * 60;\n+        public int startTrailblazerLevel = 1; // Starting trailblazer level for new players\n+        public boolean autoUpgradeWorldLevel = true; // Automatically upgrades world level when the player reaches a certain TB level\n+        public String language = \"EN\";\n+        public Set<String> defaultPermissions = Set.of(\"*\");\n+        public int maxPlayers = -1;\n+        public ServerProfile serverFriendInfo = new ServerProfile();\n+        public WelcomeMail welcomeMail = new WelcomeMail();\n+        \n+        public int getStaminaRecoveryRate() {\n+            return staminaRecoveryRate > 0 ? staminaRecoveryRate : 1;\n+        }\n+        \n+        public int getStaminaReserveRecoveryRate() {\n+            return staminaReserveRecoveryRate > 0 ? staminaReserveRecoveryRate : 1;\n+        }\n+    }\n+    \n+    @Getter\n+    public static class ServerRates {\n+        public double exp = 1.0;\n+        public double credit = 1.0;\n+        public double jade = 1.0;\n+        public double material = 1.0;\n+        public double equip = 1.0;\n+    }\n+    \n+    @Getter\n+    public static class ServerProfile {\n+        public String name = \"米忽悠之家\";\n+        public String signature = \"输入 /help 获取命令列表\";\n+        public int level = 1;\n+        public int headIcon = 201001;\n+        public int chatBubbleId = 0;\n+        public List<ServerDisplayAvatar> displayAvatars = List.of(new ServerDisplayAvatar(1001, 1));\n+        \n+        @Getter\n+        public static class ServerDisplayAvatar {\n+            public int avatarId;\n+            public int level;\n+            \n+            public ServerDisplayAvatar(int avatarId, int level) {\n+                this.avatarId = avatarId;\n+                this.level = level;\n+            }\n+        }\n+    }\n+    \n+    @Getter\n+    public static class WelcomeMail {\n+        public String title;\n+        public String sender;\n+        public String content;\n+        public List<ItemParam> attachments;\n+        \n+        public WelcomeMail() {\n+            this.title = \"Welcome to a LunarCore server\";\n+            this.sender = \"Server\";\n+            this.content = \"Welcome to Lunar Core! Please take these items as a starter gift. For a list of commands, type /help in the server chat window. Check out our <a type=OpenURL1 href=https://discord.gg/cfPKJ6N5hw>Discord</a> and <a type=OpenURL1 href=https://github.com/Melledy/LunarCore>Github</a> for more information about the server.\";\n+            this.attachments = List.of(\n+                new ItemParam(2, 1000000),\n+                new ItemParam(101, 100),\n+                new ItemParam(102, 100),\n+                new ItemParam(1001, 1),\n+                new ItemParam(1002, 1)\n+            );\n+        }\n+    }\n+    \n+    @Getter\n+    public static class LogOptions {\n+        public boolean commands = true;\n+        public boolean connections = true;\n+        public boolean packets = false;\n+        public boolean filterLoopingPackets = false;\n+    }\n+\n+    public void validate() {\n+        if (this.gameServer.kcpTimeout == null) {\n+            this.gameServer.kcpTimeout = 30;\n+        }\n+    }\n+\n+}\n"
                },
                {
                    "date": 1719129435092,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,214 @@\n+package emu.lunarcore;\n+\n+import java.util.Date;\n+import java.util.List;\n+import java.util.Set;\n+\n+import com.google.gson.annotations.SerializedName;\n+\n+import emu.lunarcore.data.common.ItemParam;\n+import lombok.Getter;\n+\n+@Getter\n+public class Config {\n+    public DatabaseInfo accountDatabase = new DatabaseInfo();\n+    public DatabaseInfo gameDatabase = new DatabaseInfo();\n+    public InternalMongoInfo internalMongoServer = new InternalMongoInfo();\n+    public boolean useSameDatabase = true;\n+\n+    public KeystoreInfo keystore = new KeystoreInfo();\n+\n+    public HttpServerConfig httpServer = new HttpServerConfig(80);\n+    public GameServerConfig gameServer = new GameServerConfig(23301);\n+\n+    public ServerOptions serverOptions = new ServerOptions();\n+    public ServerTime serverTime = new ServerTime();\n+    public ServerRates serverRates = new ServerRates();\n+    public LogOptions logOptions = new LogOptions();\n+\n+    public String resourceDir = \"./resources\";\n+    public String dataDir = \"./data\";\n+\n+    @Getter\n+    public static class DatabaseInfo {\n+        public String uri = \"mongodb://localhost:27017\";\n+        public String collection = \"lunarcore\";\n+        public boolean useInternal = true;\n+    }\n+\n+    @Getter\n+    public static class InternalMongoInfo {\n+        public String address = \"localhost\";\n+        public int port = 27017;\n+        public String filePath = \"database.mv\";\n+    }\n+\n+    @Getter\n+    public static class KeystoreInfo {\n+        public String path = \"./keystore.p12\";\n+        public String password = \"\";\n+    }\n+\n+    @Getter\n+    private static class ServerConfig {\n+        public String bindAddress = \"0.0.0.0\";\n+        @SerializedName(value = \"bindPort\", alternate = { \"port\" })\n+        public int bindPort;\n+\n+        // Will return bindAddress if publicAddress is null\n+        public String publicAddress = \"127.0.0.1\";\n+        // Will return bindPort if publicPort is null\n+        public Integer publicPort;\n+\n+        public ServerConfig(int port) {\n+            this.bindPort = port;\n+        }\n+\n+        public String getPublicAddress() {\n+            if (this.publicAddress != null && !this.publicAddress.isEmpty()) {\n+                return this.publicAddress;\n+            }\n+\n+            return this.bindAddress;\n+        }\n+\n+        public int getPublicPort() {\n+            if (this.publicPort != null && this.publicPort != 0) {\n+                return this.publicPort;\n+            }\n+\n+            return this.bindPort;\n+        }\n+    }\n+\n+    @Getter\n+    public static class HttpServerConfig extends ServerConfig {\n+        public boolean useSSL = false;\n+        public long regionListRefresh = 60_000; // Time in milliseconds to wait before refreshing region list cache\n+                                                // again\n+\n+        public HttpServerConfig(int port) {\n+            super(port);\n+        }\n+\n+        public String getDisplayAddress() {\n+            return (useSSL ? \"https\" : \"http\") + \"://\" + getPublicAddress() + \":\" + getPublicPort();\n+        }\n+    }\n+\n+    @Getter\n+    public static class GameServerConfig extends ServerConfig {\n+        public String id = \"lunar_rail_test\";\n+        public String name = \"Lunar Core\";\n+        public String description = \"A LunarCore server\";\n+        public int kcpInterval = 40;\n+        public Integer kcpTimeout = 30;\n+\n+        public GameServerConfig(int port) {\n+            super(port);\n+        }\n+\n+        public int getKcpTimeout() {\n+            return kcpTimeout.intValue();\n+        }\n+    }\n+\n+    @Getter\n+    public static class ServerTime {\n+        public boolean spoofTime = false;\n+        public Date spoofDate = new Date(1705276800000L); // January 15, 2024 12:00:00 AM (GMT)\n+    }\n+\n+    @Getter\n+    public static class ServerOptions {\n+        public boolean autoCreateAccount = true;\n+        public int sceneMaxEntites = 500;\n+        public int maxCustomRelicLevel = 15; // Maximum level of a relic that the player can create with the /give\n+                                             // command\n+        public boolean unlockAllChallenges = true;\n+        public boolean spendStamina = true;\n+        public int staminaRecoveryRate = 5 * 60;\n+        public int staminaReserveRecoveryRate = 18 * 60;\n+        public int startTrailblazerLevel = 1; // Starting trailblazer level for new players\n+        public boolean autoUpgradeWorldLevel = true; // Automatically upgrades world level when the player reaches a\n+                                                     // certain TB level\n+        public String language = \"EN\";\n+        public Set<String> defaultPermissions = Set.of(\"*\");\n+        public int maxPlayers = -1;\n+        public ServerProfile serverFriendInfo = new ServerProfile();\n+        public WelcomeMail welcomeMail = new WelcomeMail();\n+\n+        public int getStaminaRecoveryRate() {\n+            return staminaRecoveryRate > 0 ? staminaRecoveryRate : 1;\n+        }\n+\n+        public int getStaminaReserveRecoveryRate() {\n+            return staminaReserveRecoveryRate > 0 ? staminaReserveRecoveryRate : 1;\n+        }\n+    }\n+\n+    @Getter\n+    public static class ServerRates {\n+        public double exp = 1.0;\n+        public double credit = 1.0;\n+        public double jade = 1.0;\n+        public double material = 1.0;\n+        public double equip = 1.0;\n+    }\n+\n+    @Getter\n+    public static class ServerProfile {\n+        public String name = \"米忽悠之家\";\n+        public String signature = \"输入 /help 获取命令列表\";\n+        public int level = 1;\n+        public int headIcon = 201001;\n+        public int chatBubbleId = 0;\n+        public List<ServerDisplayAvatar> displayAvatars = List.of(new ServerDisplayAvatar(1001, 1));\n+\n+        @Getter\n+        public static class ServerDisplayAvatar {\n+            public int avatarId;\n+            public int level;\n+\n+            public ServerDisplayAvatar(int avatarId, int level) {\n+                this.avatarId = avatarId;\n+                this.level = level;\n+            }\n+        }\n+    }\n+\n+    @Getter\n+    public static class WelcomeMail {\n+        public String title;\n+        public String sender;\n+        public String content;\n+        public List<ItemParam> attachments;\n+\n+        public WelcomeMail() {\n+            this.title = \"hu\";\n+            this.sender = \"Server\";\n+            this.content = \"Welcome to Lunar Core! Please take these items as a starter gift. For a list of commands, type /help in the server chat window. Check out our <a type=OpenURL1 href=https://discord.gg/cfPKJ6N5hw>Discord</a> and <a type=OpenURL1 href=https://github.com/Melledy/LunarCore>Github</a> for more information about the server.\";\n+            this.attachments = List.of(\n+                    new ItemParam(2, 1000000),\n+                    new ItemParam(101, 100),\n+                    new ItemParam(102, 100),\n+                    new ItemParam(1001, 1),\n+                    new ItemParam(1002, 1));\n+        }\n+    }\n+\n+    @Getter\n+    public static class LogOptions {\n+        public boolean commands = true;\n+        public boolean connections = true;\n+        public boolean packets = false;\n+        public boolean filterLoopingPackets = false;\n+    }\n+\n+    public void validate() {\n+        if (this.gameServer.kcpTimeout == null) {\n+            this.gameServer.kcpTimeout = 30;\n+        }\n+    }\n+\n+}\n"
                },
                {
                    "date": 1719129443563,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -156,9 +156,9 @@\n     @Getter\n     public static class ServerProfile {\n         public String name = \"米忽悠之家\";\n         public String signature = \"输入 /help 获取命令列表\";\n-        public int level = 1;\n+        public int level = ;\n         public int headIcon = 201001;\n         public int chatBubbleId = 0;\n         public List<ServerDisplayAvatar> displayAvatars = List.of(new ServerDisplayAvatar(1001, 1));\n         \n"
                },
                {
                    "date": 1719129448688,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -157,9 +157,9 @@\n     public static class ServerProfile {\n         public String name = \"米忽悠之家\";\n         public String signature = \"输入 /help 获取命令列表\";\n         public int level = 80;\n-        public int headIcon = 201001;\n+        public int headIcon = 201;\n         public int chatBubbleId = 0;\n         public List<ServerDisplayAvatar> displayAvatars = List.of(new ServerDisplayAvatar(1001, 1));\n         \n         @Getter\n"
                },
                {
                    "date": 1719129471915,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -184,9 +184,9 @@\n         public String content;\n         public List<ItemParam> attachments;\n \n         public WelcomeMail() {\n-            this.title = \"Welcome to a LunarCore server\";\n+            this.title = \"欢迎来到\";\n             this.sender = \"Server\";\n             this.content = \"Welcome to Lunar Core! Please take these items as a starter gift. For a list of commands, type /help in the server chat window. Check out our <a type=OpenURL1 href=https://discord.gg/cfPKJ6N5hw>Discord</a> and <a type=OpenURL1 href=https://github.com/Melledy/LunarCore>Github</a> for more information about the server.\";\n             this.attachments = List.of(\n                     new ItemParam(2, 1000000),\n"
                }
            ],
            "date": 1719129402515,
            "name": "Commit-0",
            "content": "package emu.lunarcore;\n\nimport java.util.Date;\nimport java.util.List;\nimport java.util.Set;\n\nimport com.google.gson.annotations.SerializedName;\n\nimport emu.lunarcore.data.common.ItemParam;\nimport lombok.Getter;\n\n@Getter\npublic class Config {\n    public DatabaseInfo accountDatabase = new DatabaseInfo();\n    public DatabaseInfo gameDatabase = new DatabaseInfo();\n    public InternalMongoInfo internalMongoServer = new InternalMongoInfo();\n    public boolean useSameDatabase = true;\n\n    public KeystoreInfo keystore = new KeystoreInfo();\n\n    public HttpServerConfig httpServer = new HttpServerConfig(80);\n    public GameServerConfig gameServer = new GameServerConfig(23301);\n    \n    public ServerOptions serverOptions = new ServerOptions();\n    public ServerTime serverTime = new ServerTime();\n    public ServerRates serverRates = new ServerRates();\n    public LogOptions logOptions = new LogOptions();\n\n    public String resourceDir = \"./resources\";\n    public String dataDir = \"./data\";\n\n    @Getter\n    public static class DatabaseInfo {\n        public String uri = \"mongodb://localhost:27017\";\n        public String collection = \"lunarcore\";\n        public boolean useInternal = true;\n    }\n\n    @Getter\n    public static class InternalMongoInfo {\n        public String address = \"localhost\";\n        public int port = 27017;\n        public String filePath = \"database.mv\";\n    }\n\n    @Getter\n    public static class KeystoreInfo {\n        public String path = \"./keystore.p12\";\n        public String password = \"\";\n    }\n\n    @Getter\n    private static class ServerConfig {\n        public String bindAddress = \"0.0.0.0\";\n        @SerializedName(value = \"bindPort\", alternate = {\"port\"})\n        public int bindPort;\n        \n        // Will return bindAddress if publicAddress is null\n        public String publicAddress = \"127.0.0.1\";\n        // Will return bindPort if publicPort is null\n        public Integer publicPort;\n        \n        public ServerConfig(int port) {\n            this.bindPort = port;\n        }\n        \n        public String getPublicAddress() {\n            if (this.publicAddress != null && !this.publicAddress.isEmpty()) {\n                return this.publicAddress;\n            }\n            \n            return this.bindAddress;\n        }\n        \n        public int getPublicPort() {\n            if (this.publicPort != null && this.publicPort != 0) {\n                return this.publicPort;\n            }\n            \n            return this.bindPort;\n        }\n    }\n    \n    @Getter\n    public static class HttpServerConfig extends ServerConfig {\n        public boolean useSSL = false;\n        public long regionListRefresh = 60_000; // Time in milliseconds to wait before refreshing region list cache again\n\n        public HttpServerConfig(int port) {\n            super(port);\n        }\n        \n        public String getDisplayAddress() {\n            return (useSSL ? \"https\" : \"http\") + \"://\" + getPublicAddress() + \":\" + getPublicPort();\n        }\n    }\n\n    @Getter\n    public static class GameServerConfig extends ServerConfig {\n        public String id = \"lunar_rail_test\";\n        public String name = \"Lunar Core\";\n        public String description = \"A LunarCore server\";\n        public int kcpInterval = 40;\n        public Integer kcpTimeout = 30;\n\n        public GameServerConfig(int port) {\n            super(port);\n        }\n        \n        public int getKcpTimeout() {\n            return kcpTimeout.intValue();\n        }\n    }\n    \n    @Getter \n    public static class ServerTime {\n        public boolean spoofTime = false;\n        public Date spoofDate = new Date(1705276800000L); // January 15, 2024 12:00:00 AM (GMT)\n    }\n    \n    @Getter\n    public static class ServerOptions {\n        public boolean autoCreateAccount = true;\n        public int sceneMaxEntites = 500;\n        public int maxCustomRelicLevel = 15; // Maximum level of a relic that the player can create with the /give command\n        public boolean unlockAllChallenges = true;\n        public boolean spendStamina = true;\n        public int staminaRecoveryRate = 5 * 60;\n        public int staminaReserveRecoveryRate = 18 * 60;\n        public int startTrailblazerLevel = 1; // Starting trailblazer level for new players\n        public boolean autoUpgradeWorldLevel = true; // Automatically upgrades world level when the player reaches a certain TB level\n        public String language = \"EN\";\n        public Set<String> defaultPermissions = Set.of(\"*\");\n        public int maxPlayers = -1;\n        public ServerProfile serverFriendInfo = new ServerProfile();\n        public WelcomeMail welcomeMail = new WelcomeMail();\n        \n        public int getStaminaRecoveryRate() {\n            return staminaRecoveryRate > 0 ? staminaRecoveryRate : 1;\n        }\n        \n        public int getStaminaReserveRecoveryRate() {\n            return staminaReserveRecoveryRate > 0 ? staminaReserveRecoveryRate : 1;\n        }\n    }\n    \n    @Getter\n    public static class ServerRates {\n        public double exp = 1.0;\n        public double credit = 1.0;\n        public double jade = 1.0;\n        public double material = 1.0;\n        public double equip = 1.0;\n    }\n    \n    @Getter\n    public static class ServerProfile {\n        public String name = \"mi\";\n        public String signature = \"Type /help for a list of commands\";\n        public int level = 1;\n        public int headIcon = 201001;\n        public int chatBubbleId = 0;\n        public List<ServerDisplayAvatar> displayAvatars = List.of(new ServerDisplayAvatar(1001, 1));\n        \n        @Getter\n        public static class ServerDisplayAvatar {\n            public int avatarId;\n            public int level;\n            \n            public ServerDisplayAvatar(int avatarId, int level) {\n                this.avatarId = avatarId;\n                this.level = level;\n            }\n        }\n    }\n    \n    @Getter\n    public static class WelcomeMail {\n        public String title;\n        public String sender;\n        public String content;\n        public List<ItemParam> attachments;\n        \n        public WelcomeMail() {\n            this.title = \"Welcome to a LunarCore server\";\n            this.sender = \"Server\";\n            this.content = \"Welcome to Lunar Core! Please take these items as a starter gift. For a list of commands, type /help in the server chat window. Check out our <a type=OpenURL1 href=https://discord.gg/cfPKJ6N5hw>Discord</a> and <a type=OpenURL1 href=https://github.com/Melledy/LunarCore>Github</a> for more information about the server.\";\n            this.attachments = List.of(\n                new ItemParam(2, 1000000),\n                new ItemParam(101, 100),\n                new ItemParam(102, 100),\n                new ItemParam(1001, 1),\n                new ItemParam(1002, 1)\n            );\n        }\n    }\n    \n    @Getter\n    public static class LogOptions {\n        public boolean commands = true;\n        public boolean connections = true;\n        public boolean packets = false;\n        public boolean filterLoopingPackets = false;\n    }\n\n    public void validate() {\n        if (this.gameServer.kcpTimeout == null) {\n            this.gameServer.kcpTimeout = 30;\n        }\n    }\n\n}\n"
        }
    ]
}